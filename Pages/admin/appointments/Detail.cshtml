@page "{id:int?}"
@model MVCRealEstate.Pages.admin.appointments.DetailModel
@using MVCRealEstate.Models
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@{
	ViewData["Title"] ="Détail du Rendez-vous";
	Layout = "~/Pages/Shared/_AdminLayout.cshtml";
}
<h1>Détails du Rendez-vous</h1>
<div class="row" style="margin-bottom:20px;display:flex">
    <div class="col-md-8"></div>
    <div class="col-md-4" style="display:flex;flex-direction:row;align-items:center;justify-content:space-between">
        <a asp-page="./Index" class="btn btn-secondary">Retour à la liste</a>
        @if (!Model.Appointment.IsBooked)
        {
            <form method="post" asp-page-handler="Delete" asp-route-id="@Model.Appointment.AppointmentId">
                <button type="submit" class="btn btn-danger">Supprimer</button>
            </form>
        }
    </div>
</div>
<div>
    <ul class="list-group">
        <li class="list-group-item">
            <strong>ID du Rendez-vous:</strong> @Model.Appointment.AppointmentId
        </li>
        <li class="list-group-item">
            <strong>Utilisateur:</strong> @Model.Appointment.User?.FullName
        </li>
        <li class="list-group-item">
            <strong>Offre:</strong> @Model.Appointment.Offer?.Reference
        </li>
        <li class="list-group-item">
            <strong>Période:</strong> @Model.Appointment.Period.ToString("dd/MM/yyyy HH:mm")
        </li>
        <li class="list-group-item">
            <strong>Réservé:</strong> @(Model.Appointment.IsBooked ? "Oui" : "Non")
        </li>
    </ul>
</div>

